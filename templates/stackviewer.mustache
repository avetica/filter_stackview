{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @package filter_stackview
    @copyright 19/05/2021 Mfreak.nl | LdesignMedia.nl - Luuk Verhoeven
    @author    Luuk Verhoeven
}}
{{!
    @template filter/stackview

    Example context (json):
    {
        "url" : "https://example.com/stackview",
        "width" : 1024,
        "height" : 850
    }
}}
<script src="/filter/stackview/javascript/iframe.sizer.min.js"></script>
{{#url}}
<iframe src="{{{url}}}" width="{{width}}" height="{{height}}" style="border: none;" class="stackviewer-embed"></iframe>
{{/url}}
<script>
        {{#js}}
        try {
            window.iFrameResize({
                log: false,
                autoResize: true,
                checkOrigin: false,
                sizeHeight: true,
                sizeWidth: false,
                heightCalculationMethod: 'taggedElement'
            }); // eslint-disable-line no-use-before-define
        } catch (e) {
            // eslint-disable-line no-console
            console.log('Loaded embed but not visible?', e);
        }
        {{/js}}
</script>
